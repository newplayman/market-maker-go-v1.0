# Phoenix v2 éƒ¨ç½²çŠ¶æ€æŠ¥å‘Š
# ç”Ÿæˆæ—¶é—´: 2025-11-28 05:04

## éƒ¨ç½²å®Œæˆæƒ…å†µ

### 1. ç¯å¢ƒæ¸…ç† âœ…
- å·²æ£€æŸ¥å¹¶æ¸…ç†æ‰€æœ‰æ®‹ç•™è¿›ç¨‹ï¼ˆæ— æ®‹ç•™ï¼‰
- åŸé¡¹ç›®å·²å®Œæ•´å¤‡ä»½è‡³: /root/backup.old/market-maker-go-20251128_050028/
- å½“å‰å·¥ä½œç›®å½•å·²æ¸…ç©ºå¹¶å‡†å¤‡å°±ç»ª

### 2. ä»£ç éƒ¨ç½² âœ…
- ä»“åº“åœ°å€: https://github.com/newplayman/market-maker-go-v1.0
- å…‹éš†å®Œæˆ: /root/market-maker-go
- é¡¹ç›®ç‰ˆæœ¬: Phoenix v2.0.0
- æäº¤çŠ¶æ€: æœ€æ–°ä»£ç 

### 3. ä¾èµ–å®‰è£… âœ…
- Goç‰ˆæœ¬: 1.23.0
- ä¾èµ–ä¸‹è½½: å®Œæˆ (go mod download)
- ç¼–è¯‘çŠ¶æ€: æˆåŠŸ
- å¯æ‰§è¡Œæ–‡ä»¶: /root/market-maker-go/bin/phoenix

### 4. é…ç½®æ–‡ä»¶ âœ…
- ä¸»é…ç½®: /root/market-maker-go/config.yaml (å·²åˆ›å»º)
- é…ç½®ç±»å‹: å®ç›˜ç”Ÿäº§é…ç½®
- æµ‹è¯•ç½‘æ¨¡å¼: false (å®ç›˜æ¨¡å¼)
- APIå¯†é’¥æ¥æº: ç¯å¢ƒå˜é‡ (BINANCE_API_KEY/BINANCE_API_SECRET)

### 5. äº¤æ˜“é…ç½®
- äº¤æ˜“å¯¹: BTCUSDT
- æœ€å¤§ä»“ä½: 0.01 BTC (~$900)
- æœ€å°ä»·å·®: 0.05%
- æ­¢æŸé˜ˆå€¼: 3%
- æ€»é£é™©ä¸Šé™: $1000

### 6. ç›®å½•ç»“æ„ âœ…
- æ•°æ®ç›®å½•: /root/market-maker-go/data/
- æ—¥å¿—ç›®å½•: /root/market-maker-go/logs/
- è¿è¡Œç›®å½•: /root/market-maker-go/run/
- å¯æ‰§è¡Œæ–‡ä»¶: /root/market-marker-go/bin/phoenix

### 7. ç›‘æ§é…ç½® âœ…
- Prometheusç«¯å£: 9090
- æŒ‡æ ‡ç«¯ç‚¹: http://localhost:9090/metrics
- æ—¥å¿—çº§åˆ«: info
- å¿«ç…§é—´éš”: 60ç§’

## APIé…ç½®ä¿¡æ¯

### ç¯å¢ƒå˜é‡ï¼ˆå·²é…ç½®ï¼‰
- BINANCE_API_KEY: JDTnMB72CIL... (å·²è®¾ç½®)
- BINANCE_API_SECRET: RvaTep... (å·²è®¾ç½®)
- BINANCE_REST_URL: https://fapi.binance.com (é»˜è®¤)
- BINANCE_WS_ENDPOINT: wss://fstream.binance.com (é»˜è®¤)

## å¯åŠ¨æ–¹å¼

### æ–¹å¼1: ç›´æ¥å¯åŠ¨ï¼ˆå‰å°è¿è¡Œï¼‰
```bash
cd /root/market-maker-go
./bin/phoenix -config config.yaml -log info
```

### æ–¹å¼2: åå°å¯åŠ¨ï¼ˆä½¿ç”¨è„šæœ¬ï¼‰
```bash
cd /root/market-maker-go
bash scripts/start_production.sh
```

### æ–¹å¼3: æ‰‹åŠ¨åå°å¯åŠ¨
```bash
cd /root/market-maker-go
nohup ./bin/phoenix -config config.yaml -log info > logs/phoenix.out 2>&1 &
echo $! > run/phoenix.pid
```

## åœæ­¢æ–¹å¼

### ä¼˜é›…åœæ­¢ï¼ˆæ¨èï¼‰
```bash
# æŒ‰Ctrl+Cåœæ­¢å‰å°è¿›ç¨‹
# æˆ–è€…
kill -TERM $(cat /root/market-maker-go/run/phoenix.pid)
```

### ç´§æ€¥åœæ­¢ï¼ˆæ’¤å•+å¹³ä»“ï¼‰
```bash
cd /root/market-maker-go
bash scripts/emergency_stop.sh
```

## ç›‘æ§æ–¹å¼

### æŸ¥çœ‹å®æ—¶æ—¥å¿—
```bash
tail -f /root/market-maker-go/logs/phoenix.out
```

### æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€
```bash
ps aux | grep phoenix
```

### æŸ¥çœ‹æŒ‡æ ‡
```bash
curl http://localhost:9090/metrics
```

### æ£€æŸ¥è¿›ç¨‹ID
```bash
cat /root/market-maker-go/run/phoenix.pid
```

## é‡è¦æé†’

### ğŸš¨ é£é™©è­¦å‘Š
1. è¿™æ˜¯å®ç›˜ç¯å¢ƒï¼Œä¼šäº§ç”ŸçœŸå®ç›ˆäºï¼
2. å½“å‰é…ç½®ä¸ºå°èµ„é‡‘æµ‹è¯•ï¼ˆæœ€å¤§$1000æ•å£ï¼‰
3. è¯·å¯†åˆ‡ç›‘æ§è¿è¡ŒçŠ¶å†µ
4. å»ºè®®è®¾ç½®Prometheuså‘Šè­¦
5. å‡†å¤‡å¥½ç´§æ€¥åœæ­¢è„šæœ¬

### ğŸ“Š ç›‘æ§é‡ç‚¹
1. ä»“ä½å˜åŒ– (phoenix_position_net)
2. æœªå®ç°ç›ˆäº (phoenix_unrealized_pnl)
3. è®¢å•æˆäº¤æƒ…å†µ (phoenix_fill_count_total)
4. é£æ§è§¦å‘æ¬¡æ•° (phoenix_risk_check_failures_total)
5. APIå»¶è¿Ÿ (phoenix_api_latency_seconds)

### âœ… å»ºè®®æ­¥éª¤
1. é¦–æ¬¡å¯åŠ¨å‰ï¼Œå†æ¬¡ç¡®è®¤APIå¯†é’¥æƒé™
2. å¯åŠ¨åç«‹å³æ£€æŸ¥æ—¥å¿—ï¼Œç¡®è®¤è¿æ¥æ­£å¸¸
3. è§‚å¯Ÿå‰5-10åˆ†é’Ÿçš„è®¢å•è¡Œä¸º
4. ç›‘æ§ä»“ä½æ˜¯å¦ç¬¦åˆé¢„æœŸ
5. å¦‚å‘ç°å¼‚å¸¸ï¼Œç«‹å³æ‰§è¡Œemergency_stop.sh

### ğŸ“ å¤‡ä»½ä½ç½®
- æ—§ç‰ˆæœ¬ä»£ç : /root/backup.old/market-maker-go-20251128_050028/
- æ—§ç‰ˆæœ¬é…ç½®: /root/backup.old/market-maker-go-20251128_050028/configs/
- æ—§ç‰ˆæœ¬æ•°æ®: /root/backup.old/market-maker-go-20251128_050028/data/

## éªŒè¯æ¸…å•

- [âœ…] è¿›ç¨‹æ¸…ç†å®Œæˆ
- [âœ…] ä»£ç å¤‡ä»½å®Œæˆ
- [âœ…] æ–°ä»£ç æ‹‰å–å®Œæˆ
- [âœ…] ä¾èµ–å®‰è£…å®Œæˆ
- [âœ…] ç¼–è¯‘æˆåŠŸ
- [âœ…] é…ç½®æ–‡ä»¶åˆ›å»º
- [âœ…] APIå¯†é’¥é…ç½®ï¼ˆç¯å¢ƒå˜é‡ï¼‰
- [âœ…] ç›®å½•ç»“æ„å‡†å¤‡
- [âœ…] è„šæœ¬æƒé™è®¾ç½®
- [â³] å¾…å¯åŠ¨è¿›è¡Œå®ç›˜æµ‹è¯•

## ä¸‹ä¸€æ­¥æ“ä½œ

å‡†å¤‡å°±ç»ªï¼å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨å®ç›˜æµ‹è¯•ï¼š

```bash
cd /root/market-maker-go
bash scripts/start_production.sh
```

æˆ–æ‰‹åŠ¨å¯åŠ¨å¹¶è§‚å¯Ÿæ—¥å¿—ï¼š

```bash
cd /root/market-maker-go
./bin/phoenix -config config.yaml -log info
```

---
éƒ¨ç½²å®Œæˆæ—¶é—´: 2025-11-28 05:04 UTC
éƒ¨ç½²çŠ¶æ€: âœ… å®Œæˆï¼Œç­‰å¾…å¯åŠ¨
