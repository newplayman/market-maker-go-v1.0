# Phoenix v2 实盘配置 (MAINNET)
# ⚠️ 警告：这是真实交易环境！请小心配置！

global:
  # ==================== API配置 ====================
  # ⚠️ 请替换为您的实盘API密钥
  api_key: "JDTnMB72CILecXzST7uex7qcvy185lFzzzItsoAim4o4NFa6Ey1bil6JGeXMZaeS"           # 替换为实盘API Key
  api_secret: "RvaTepu3VWxkR5FbE0LOf2C6gIrppNWjDwYeyalKM9SnVtr8yawLFBSf7rfT2rVI"     # 替换为实盘API Secret
  
  # ==================== 网络配置 ====================
  testnet: false                            # ⚠️ 实盘模式
  
  # ==================== 风控配置 ====================
  total_notional_max: 500.0                 # 总名义价值上限 $500 (建议小资金测试)
  
  # ==================== 报价配置 ====================
  quote_interval_ms: 1000                   # 报价间隔 1000ms
  
  # ==================== 监控配置 ====================
  metrics_port: 9090                        # Prometheus监控端口
  
  # ==================== 持久化配置 ====================
  snapshot_path: "./data/snapshot_mainnet.json"  # 实盘快照路径
  snapshot_interval: 60                           # 快照间隔60秒

# ==================== 交易对配置 ====================
# ⚠️ 实盘小资金测试配置
symbols:
  - symbol: "ETHUSDC"                      # 交易对（ETH永续合约）
    
    # 仓位限制（实盘小仓位测试）
    net_max: 0.11                          # 最大净仓位复原为0.11 ETH，满足验证大于0.1的限制
    
    # 价差配置
    min_spread: 0.0005                      # 最小价差 0.05%
    
    # 价格和数量精度
    tick_size: 0.01                         # 价格最小变动 $0.01
    min_qty: 0.02                          # 最小下单量 0.02 ETH，匹配net_max
    
    # 挂单配置
    base_layer_size: 0.02                   # 基础层级挂单量 0.02 ETH，匹配资金规模
    near_layers: 3                          # 近端层数 3层
    far_layers: 3                           # 远端层数 3层
    
    # 钉子模式（主动平仓）
    pinning_enabled: true                   # 启用钉子模式
    pinning_thresh: 0.6                     # 触发阈值 60%
    
    # 磨仓模式（被动平仓）
    grinding_enabled: true                  # 启用磨仓模式
    grinding_thresh: 0.8                    # 触发阈值 80%，确保Grinding晚于钉子模式触发
    
    # 止损配置 ⚠️ 重要！
    stop_loss_thresh: 0.05                  # 止损阈值 5%，满足新风控要求
    
    # 撤单限制
    max_cancel_per_min: 50                  # 每分钟最大撤单数
    
    # 价格偏移（ASMM策略参数）
    skew_factor: 1.0                        # 偏移因子

# ==================== 实盘使用说明 ====================
# 1. 将上面的 YOUR_MAINNET_API_KEY 和 YOUR_MAINNET_API_SECRET 替换为真实密钥
# 2. 建议先用小资金测试（如$500以下）
# 3. 确认API key有交易权限
# 4. 运行: ./bin/phoenix -config config.mainnet.yaml -log info
# 5. 密切监控运行状况
#
# ==================== 安全提醒 ====================
# ⚠️ 这是真实交易！会产生真实盈亏！
# ⚠️ 建议先用小资金测试系统稳定性
# ⚠️ 务必设置好止损
# ⚠️ 随时准备手动停止（Ctrl+C）
# ⚠️ 密切关注风控指标输出
#
# ==================== 监控指标 ====================
# - 访问 http://localhost:9090/metrics 查看实时指标
# - 观察终端日志中的风控指标
# - 定期检查币安账户余额和仓位
