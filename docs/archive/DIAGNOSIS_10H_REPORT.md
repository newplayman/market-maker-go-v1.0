# Phoenix 10å°æ—¶å®ç›˜è¿è¡Œè¯Šæ–­æŠ¥å‘Š

## æ—¶é—´èŒƒå›´
- **å¯åŠ¨æ—¶é—´**: 2025-11-29 23:31:48
- **å½“å‰æ—¶é—´**: 2025-11-30 10:35:50
- **è¿è¡Œæ—¶é•¿**: 11å°æ—¶09åˆ†é’Ÿ
- **ç³»ç»ŸPID**: 937654 (ä»åœ¨è¿è¡Œ)

---

## ğŸ”´ ä¸¥é‡é—®é¢˜å‘ç°

### é—®é¢˜1: **è®¢å•å®Œå…¨æ— æˆäº¤ - Fill Rate = 0%**

#### å…³é”®æ•°æ®
```
æ€»ä¸‹å•æ•°: 114
æ€»æ’¤å•æ•°: 99
æ’¤å•ç‡: 86.84%
æˆäº¤è®¢å•æ•°: 0 âŒ
Fill Rate: 0% âŒâŒâŒ
```

#### æ–‡æ¡£è¦æ±‚å¯¹æ¯”
| æŒ‡æ ‡ | æ–‡æ¡£è¦æ±‚ | å½“å‰å®é™… | çŠ¶æ€ |
|------|---------|---------|------|
| Fill Rate | >35% | **0%** | âŒ ä¸¥é‡ä¸åˆæ ¼ |
| æ’¤å•ç‡ | <50/min | ~9/min | âœ… åˆæ ¼ |
| æŠ¥ä»·é—´éš” | <200ms | æœªæµ‹é‡ | âš ï¸ |

**Phoenix v2æ–‡æ¡£ï¼ˆç¬¬264è¡Œï¼‰æ˜ç¡®è¦æ±‚ï¼š**
> æŠ¥ä»·ï¼šæ¯ symbol 24 å±‚åŒè¾¹å•, fill rate >35% (72h æµ‹è¯•ç½‘)ã€‚

#### é—®é¢˜è¯Šæ–­

**æ ¹æœ¬åŸå› ï¼šè®¢å•ä»·æ ¼è·ç¦»å¸‚åœºè¿‡è¿œï¼Œæ— æ³•æˆäº¤**

ä»æœ€è¿‘çš„æŒ‚å•æ•°æ®åˆ†æï¼š
```
å¸‚åœºmidä»·æ ¼: ~2990 USDT

ä¹°1: 2988.43 (è·mid ~1.6U) â† çœ‹ä¼¼åˆç†
å–1: 2991.81 (è·mid ~1.8U) â† çœ‹ä¼¼åˆç†

ä½†é—®é¢˜æ˜¯ï¼š
1. å¸‚åœºå®æ—¶ä»·æ ¼æ³¢åŠ¨å¯èƒ½å·²ç»åç¦»è¿™äº›è®¢å•
2. è®¢å•ç”Ÿæˆåä»·æ ¼å‘ç”Ÿå˜åŒ–ï¼Œä½†æ›´æ–°ä¸å¤ŸåŠæ—¶
3. 10å°æ—¶å†…0æˆäº¤è¯´æ˜è®¢å•å§‹ç»ˆ"è¿½ä¸ä¸Š"å¸‚åœº
```

**å¯¹æ¯”æ–‡æ¡£ç­–ç•¥è¦æ±‚ï¼ˆç¬¬180è¡Œï¼‰ï¼š**
> Pinning: if |pos| >70% netMax, nail to bestBid/Ask (size *2.3)ï¼›near 8 layers dynamic, far 16 layers fixed 0.08 hand @ Â±4.8-12%ã€‚

**å½“å‰é…ç½®å­˜åœ¨çš„é—®é¢˜ï¼š**
```yaml
near_layers: 3           # æ–‡æ¡£è¦æ±‚: 8å±‚
far_layers: 4            # æ–‡æ¡£è¦æ±‚: 16å±‚
base_layer_size: 0.01    # å®é™…ç”Ÿæ•ˆå€¼
quote_interval_ms: 600   # æ–‡æ¡£è¦æ±‚: <200ms âŒ
```

**æ€»å±‚æ•°ï¼š3+4=7å±‚ï¼Œè¿œå°‘äºæ–‡æ¡£è¦æ±‚çš„24å±‚ï¼ˆ8è¿‘+16è¿œï¼‰**

---

### é—®é¢˜2: **Pinning/Grindingæœºåˆ¶å®Œå…¨æœªè§¦å‘**

#### å…³é”®æ•°æ®
```
ä»“ä½: 0 ETH (å§‹ç»ˆä¸º0)
Pinningè§¦å‘æ¬¡æ•°: 0
Grindingè§¦å‘æ¬¡æ•°: 0
```

#### æ–‡æ¡£è¦æ±‚
```
Pinning: |pos| >70% netMax (>0.105 ETHæ—¶)
Grinding: |pos| >87% netMax (>0.1305 ETHæ—¶)
```

#### é—®é¢˜åˆ†æ
**å› ä¸ºè®¢å•å®Œå…¨æ— æˆäº¤ï¼Œæ‰€ä»¥ä»“ä½ä¸€ç›´æ˜¯0ï¼Œæ— æ³•æµ‹è¯•è¿™äº›å…³é”®çš„é£æ§å’Œå‡ä»“æœºåˆ¶ã€‚**

è¿™æ˜¯ä¸€ä¸ª**é¸¡ç”Ÿè›‹é—®é¢˜**ï¼š
1. è®¢å•æ— æˆäº¤ â†’ ä»“ä½ä¸º0
2. ä»“ä½ä¸º0 â†’ æ— æ³•æµ‹è¯•Pinning/Grinding
3. Pinning/Grindingæœªæµ‹è¯• â†’ ç³»ç»ŸçœŸå®é£æ§èƒ½åŠ›æœªéªŒè¯

**æ ¹æ®æ–‡æ¡£ç¬¬193è¡Œï¼š**
> Grinding: if |pos| >87% + stdDev <0.38%, taker 7.5% + maker reentry @ +4.2bps (size*2.1)ã€‚

**è¿™æ˜¯è½»ä»“åšå¸‚çš„æ ¸å¿ƒå‡ä»“æœºåˆ¶ï¼Œä½†åœ¨10å°æ—¶å†…å®Œå…¨æœªè¢«éªŒè¯ï¼**

---

### é—®é¢˜3: **æŠ¥ä»·å±‚æ•°ä¸¥é‡ä¸è¶³**

#### æ–‡æ¡£vså®é™…

| é…ç½®é¡¹ | æ–‡æ¡£è¦æ±‚ | å½“å‰é…ç½® | å·®è· |
|--------|---------|---------|------|
| near_layers | 8 | 3 | -62.5% âŒ |
| far_layers | 16 | 4 | -75% âŒ |
| æ€»å±‚æ•° | 24 | 7 | -70.8% âŒ |

#### å½±å“åˆ†æ

**1. å¸‚åœºè¦†ç›–ä¸è¶³**
- æ–‡æ¡£è®¾è®¡çš„24å±‚æ˜¯ä¸ºäº†è¦†ç›–ä¸åŒä»·æ ¼æ·±åº¦ï¼š
  - è¿‘ç«¯8å±‚ï¼šæ•è·å°æ³¢åŠ¨ï¼ˆÂ±0.5%-2%ï¼‰
  - è¿œç«¯16å±‚ï¼šæ•è·å¤§æ³¢åŠ¨ï¼ˆÂ±4.8%-12%ï¼‰
- å½“å‰åªæœ‰7å±‚ï¼Œå¸‚åœºè¦†ç›–ä¸¥é‡ä¸è¶³

**2. æˆäº¤æ¦‚ç‡ä¸‹é™**
- å±‚æ•°å°‘ â†’ ä»·æ ¼ç‚¹å°‘ â†’ æˆäº¤æœºä¼šå°‘
- è§£é‡Šäº†ä¸ºä»€ä¹ˆ10å°æ—¶0æˆäº¤

**3. è¿èƒŒæ–‡æ¡£æ¶æ„**
- æ–‡æ¡£ç¬¬228-230è¡Œçš„å•å…ƒæµ‹è¯•æ˜ç¡®è¦æ±‚ï¼š
  ```go
  assert.Len(t, quotes, 24) // 8 near + 16 far
  ```

---

### é—®é¢˜4: **æŠ¥ä»·æ›´æ–°é¢‘ç‡å¯èƒ½ä¸è¶³**

#### é…ç½®åˆ†æ
```yaml
quote_interval_ms: 600   # 600ms = 0.6ç§’æ›´æ–°ä¸€æ¬¡
```

#### æ–‡æ¡£è¦æ±‚ï¼ˆç¬¬24è¡Œï¼‰
> è¿è¥æ•ˆç‡ï¼šæŠ¥ä»·é—´éš” <200ms

#### å½±å“
- å½“å‰600msåˆ·æ–°ä¸€æ¬¡ï¼Œåœ¨å¸‚åœºå¿«é€Ÿå˜åŠ¨æ—¶ï¼š
  - è®¢å•ä»·æ ¼è½åå¸‚åœº200-400ms
  - é”™è¿‡æœ€ä½³æˆäº¤æ—¶æœº
  - å¯¼è‡´è®¢å•"è¿½ä¸ä¸Š"ä»·æ ¼

**é«˜é¢‘åšå¸‚çš„æ ¸å¿ƒå°±æ˜¯"å¿«"ï¼š**
- æ–‡æ¡£è¦æ±‚p99å»¶è¿Ÿ <100msï¼ˆè¡Œæƒ…â†’ä¸‹å•ï¼‰
- ä½†æŠ¥ä»·é—´éš”600mså·²ç»æ˜¯6å€äºè¦æ±‚

---

### é—®é¢˜5: **é…ç½®åŠ è½½å­˜åœ¨é—®é¢˜**

#### å‘ç°çš„é”™è¯¯æ—¥å¿—
```
2025-11-30T10:35:50Z ERR æ–°é…ç½®éªŒè¯å¤±è´¥ï¼Œä¿æŒæ—§é…ç½® error="total_notional_max å¿…é¡» > 0"
```

#### å½“å‰é…ç½®æ–‡ä»¶
```yaml
total_notional_max: 180.0
```

#### é—®é¢˜åˆ†æ
- é…ç½®æ–‡ä»¶ä¸­`total_notional_max: 180.0`çœ‹èµ·æ¥åˆæ³•
- ä½†çƒ­é‡è½½æ—¶éªŒè¯å¤±è´¥ï¼Œè¯´æ˜é…ç½®åŠ è½½é€»è¾‘å¯èƒ½æœ‰bug
- **ä¹‹å‰å‘ç°çš„`base_layer_size`é…ç½®ä¸ç”Ÿæ•ˆçš„é—®é¢˜å¯èƒ½ä¹Ÿä¸æ­¤ç›¸å…³**

---

## ğŸ“Š ä¸æ–‡æ¡£è§„èŒƒçš„å…¨é¢å¯¹æ¯”

### 1. æ ¸å¿ƒä¸šåŠ¡æŒ‡æ ‡

| æŒ‡æ ‡ | æ–‡æ¡£è¦æ±‚ | å½“å‰å®é™… | çŠ¶æ€ | é‡è¦æ€§ |
|------|---------|---------|------|--------|
| Fill Rate | >35% | **0%** | âŒ | ğŸ”´ è‡´å‘½ |
| å¹´åŒ–æ”¶ç›Š | 100%+ | æ— æ³•è®¡ç®—ï¼ˆ0æˆäº¤ï¼‰ | âŒ | ğŸ”´ è‡´å‘½ |
| æ’¤å•ç‡ | <50/min | ~9/min | âœ… | âœ… |
| NetMaxé™åˆ¶ | 0.20æ‰‹ | 0.15æ‰‹ | âœ… | âœ… |
| æŠ¥ä»·é—´éš” | <200ms | 600ms | âŒ | ğŸ”´ ä¸¥é‡ |

### 2. ç­–ç•¥é…ç½®

| é…ç½®é¡¹ | æ–‡æ¡£è¦æ±‚ | å½“å‰é…ç½® | ç¬¦åˆåº¦ | å½±å“ |
|--------|---------|---------|--------|------|
| near_layers | 8 | 3 | 37.5% | ğŸ”´ å¸‚åœºè¦†ç›–ä¸è¶³ |
| far_layers | 16 | 4 | 25% | ğŸ”´ æ·±åº¦æŒ‚å•ç¼ºå¤± |
| base_layer_size | 0.01æ‰‹ï¼ˆå»ºè®®ï¼‰ | 0.01æ‰‹ | âœ… | âœ… |
| quote_interval | <200ms | 600ms | 33% | ğŸ”´ ååº”é€Ÿåº¦æ…¢ |

### 3. é£æ§æœºåˆ¶

| æœºåˆ¶ | æ–‡æ¡£è¦æ±‚ | éªŒè¯çŠ¶æ€ | å¤‡æ³¨ |
|------|---------|---------|------|
| Pre-trade | æ‹’ç»è¶…NetMaxè®¢å• | âœ… å·²å®ç° | æ‰¹é‡é£æ§æ­£å¸¸ |
| Post-trade | æ”¶æ•›ä»“ä½ | âš ï¸ æœªè§¦å‘ | æ— æˆäº¤æ— æ³•éªŒè¯ |
| Pinning | >70% NetMaxè§¦å‘ | âš ï¸ æœªè§¦å‘ | ä»“ä½å§‹ç»ˆ0 |
| Grinding | >87% NetMaxè§¦å‘ | âš ï¸ æœªè§¦å‘ | ä»“ä½å§‹ç»ˆ0 |
| Global Cap | <$4Mé™åˆ¶ | âœ… é…ç½®æ­£å¸¸ | 180 USDCæµ‹è¯•èµ„é‡‘ |

### 4. å¯é æ€§æŒ‡æ ‡

| æŒ‡æ ‡ | æ–‡æ¡£è¦æ±‚ | å½“å‰å®é™… | çŠ¶æ€ |
|------|---------|---------|------|
| Uptime | 99.9% | 100% (11h+) | âœ… |
| å´©æºƒæ¬¡æ•° | 0 | 0 | âœ… |
| WSSè¿æ¥ | ç¨³å®š | ç¨³å®šï¼ˆæœªè§æ–­çº¿ï¼‰ | âœ… |
| é™é¢‘é”™è¯¯ | 0 | 0 | âœ… |

---

## ğŸ” æ·±å±‚æ¬¡é—®é¢˜åˆ†æ

### æ ¹æœ¬åŸå› é“¾

```
1. é…ç½®é—®é¢˜
   â”œâ”€ quote_interval: 600ms (åº” <200ms)
   â”œâ”€ near_layers: 3 (åº” 8)
   â””â”€ far_layers: 4 (åº” 16)
   
2. å¯¼è‡´ç­–ç•¥é—®é¢˜
   â”œâ”€ æŠ¥ä»·æ›´æ–°æ…¢ â†’ è¿½ä¸ä¸Šå¸‚åœº
   â”œâ”€ å±‚æ•°å°‘ â†’ è¦†ç›–èŒƒå›´å°
   â””â”€ ä»·æ ¼ç‚¹å°‘ â†’ æˆäº¤æ¦‚ç‡ä½
   
3. å¯¼è‡´ä¸šåŠ¡ç»“æœ
   â”œâ”€ Fill Rate = 0% âŒ
   â”œâ”€ æ— æ³•ç›ˆåˆ© âŒ
   â””â”€ é£æ§æœºåˆ¶æœªéªŒè¯ âŒ
```

### å¯¹æ¯”æˆåŠŸçš„HFTç³»ç»Ÿ

**æ–‡æ¡£è®¾è®¡ç†å¿µï¼ˆç¬¬19è¡Œï¼‰ï¼š**
> æ ¸å¿ƒåŠŸèƒ½ï¼šåœ¨ Binance USDC-margined æ°¸ç»­åˆçº¦ï¼ˆå… maker è´¹å¯¹ï¼Œå¦‚ ETHUSDCã€SOLUSDCã€XRPUSDC ç­‰ï¼‰ä¸Šè¿è¡Œé«˜é¢‘åšå¸‚ï¼Œæä¾›åŒè¾¹æµåŠ¨æ€§ï¼Œæ•è· bid-ask spread + funding hedge åˆ©æ¶¦ã€‚

**æˆåŠŸHFTçš„å…³é”®è¦ç´ ï¼š**
1. **é€Ÿåº¦**: <100mså“åº”ï¼ˆæˆ‘ä»¬600ms âŒï¼‰
2. **å¯†åº¦**: 24å±‚æŠ¥ä»·ï¼ˆæˆ‘ä»¬7å±‚ âŒï¼‰
3. **ç²¾åº¦**: tick-levelä»·æ ¼ï¼ˆæœªéªŒè¯ï¼‰
4. **æˆäº¤**: >35% fill rateï¼ˆæˆ‘ä»¬0% âŒï¼‰

**å½“å‰ç³»ç»Ÿæ›´åƒ"ä½é¢‘æŒ‚å•"è€Œé"é«˜é¢‘åšå¸‚"**

---

## ğŸ¯ æ¨èä¿®å¤æ–¹æ¡ˆ

### ä¼˜å…ˆçº§1: æ¢å¤æ–‡æ¡£è§„å®šçš„24å±‚æŠ¥ä»·ï¼ˆç´§æ€¥ï¼‰

**åŸå› ï¼šè¿™æ˜¯0æˆäº¤çš„æ ¸å¿ƒåŸå› **

#### æ–¹æ¡ˆA: æ¢å¤åŸå§‹é…ç½®ï¼ˆæ¨èï¼‰
```yaml
near_layers: 8
far_layers: 16
base_layer_size: 0.006  # ä¿æŒè¾ƒå°çš„å•å±‚å¤§å°
```

**æ•ˆæœé¢„æµ‹ï¼š**
- æ€»æŒ‚å•é‡: (8+16) * 0.006 = 0.144 ETH
- å NetMax: 96% (ä¼šè§¦å‘æ‰¹é‡é£æ§è°ƒæ•´ âœ…)
- è°ƒæ•´å: ~12-14å±‚ = 0.072-0.084 ETH (48-56% NetMax)

#### æ–¹æ¡ˆB: åˆ†é˜¶æ®µå¢åŠ ï¼ˆä¿å®ˆï¼‰
```yaml
# ç¬¬ä¸€é˜¶æ®µï¼ˆæµ‹è¯•12å°æ—¶ï¼‰
near_layers: 5
far_layers: 8

# ç¬¬äºŒé˜¶æ®µï¼ˆå¦‚fill rate >10%ï¼Œå†è°ƒæ•´ï¼‰
near_layers: 6
far_layers: 12

# ç¬¬ä¸‰é˜¶æ®µï¼ˆå¦‚fill rate >25%ï¼Œæœ€ç»ˆï¼‰
near_layers: 8
far_layers: 16
```

---

### ä¼˜å…ˆçº§2: è°ƒæ•´æŠ¥ä»·é—´éš”ï¼ˆç´§æ€¥ï¼‰

```yaml
quote_interval_ms: 150  # ä»600é™åˆ°150ï¼Œç¬¦åˆ<200msè¦æ±‚
```

**å½±å“ï¼š**
- è®¢å•æ›´æ–°é¢‘ç‡æå‡4å€
- æ›´åŠæ—¶è¿½è¸ªå¸‚åœºä»·æ ¼
- å¢åŠ CPUè´Ÿè½½ï¼ˆéœ€ç›‘æ§ï¼‰

---

### ä¼˜å…ˆçº§3: è°ƒæ•´near_layer_start_offsetï¼ˆé‡è¦ï¼‰

**å½“å‰é—®é¢˜ï¼š**
- ä¹°1å–1è·ç¦»midè™½ç„¶æ˜¯1.6-2.2Uï¼Œä½†å¯èƒ½å› ä¸ºï¼š
  1. å¸‚åœºæ³¢åŠ¨å¿«
  2. æ›´æ–°æ…¢ï¼ˆ600msï¼‰
  3. å®é™…ä¸‹å•æ—¶ä»·æ ¼å·²åç¦»

**è°ƒæ•´å»ºè®®ï¼š**
```yaml
near_layer_start_offset: 0.0002  # ä»0.0004é™åˆ°0.0002
# åœ¨3000 USDTä»·æ ¼ä¸‹ï¼š
# 0.0002 = 0.6 USDT (æ›´æ¥è¿‘bestBid/Ask)
```

**é£é™©ï¼š**
- æ›´å®¹æ˜“æˆäº¤ âœ…
- ä½†å¯èƒ½è§¦å‘Post-Onlyæ‹’ç» âš ï¸
- éœ€è¦å®ç›˜æµ‹è¯•éªŒè¯å¹³è¡¡ç‚¹

---

### ä¼˜å…ˆçº§4: ä¿®å¤é…ç½®åŠ è½½é—®é¢˜ï¼ˆä¸­ç­‰ï¼‰

**é—®é¢˜ï¼š**
```
ERR æ–°é…ç½®éªŒè¯å¤±è´¥ï¼Œä¿æŒæ—§é…ç½® error="total_notional_max å¿…é¡» > 0"
```

**éœ€è¦æ£€æŸ¥ï¼š**
1. `internal/config/config.go`çš„éªŒè¯é€»è¾‘
2. é…ç½®æ–‡ä»¶è§£ææ˜¯å¦æ­£ç¡®è¯»å–floatç±»å‹
3. æ˜¯å¦æœ‰é»˜è®¤å€¼è¦†ç›–é—®é¢˜

---

### ä¼˜å…ˆçº§5: å¢å¼ºç›‘æ§å’Œæ—¥å¿—ï¼ˆä¸­ç­‰ï¼‰

**å½“å‰æ—¥å¿—ç¼ºå¤±ï¼š**
1. âŒ æ— è®¢å•æˆäº¤æ—¥å¿—ï¼ˆORDER_TRADE_UPDATEæ²¡æœ‰è¾“å‡ºï¼‰
2. âŒ æ— fill rateç»Ÿè®¡
3. âŒ æ— ç­–ç•¥æ¨¡å¼æ—¥å¿—ï¼ˆNormal/Pinning/Grindingï¼‰
4. âŒ æ— inventory skewè®¡ç®—æ—¥å¿—

**å»ºè®®æ·»åŠ ï¼š**
```go
// åœ¨strategy.goä¸­
log.Info().
    Str("mode", mode).  // "Normal" / "Pinning" / "Grinding"
    Float64("pos", currentPos).
    Float64("pos_ratio", posRatio).
    Float64("inventory_skew", skew).
    Float64("funding_bias", bias).
    Int("buy_layers", len(buyQuotes)).
    Int("sell_layers", len(sellQuotes)).
    Msg("ç”ŸæˆæŠ¥ä»·")

// åœ¨runner.goä¸­
log.Info().
    Str("symbol", symbol).
    Str("side", order.Side).
    Float64("price", order.Price).
    Float64("filled_qty", order.FilledQty).
    Float64("new_pos", newPos).
    Msg("è®¢å•æˆäº¤") // ç›®å‰ç¼ºå¤±è¿™ä¸ª
```

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœï¼ˆä¿®å¤åï¼‰

### çŸ­æœŸç›®æ ‡ï¼ˆ24å°æ—¶æµ‹è¯•ï¼‰
```
Fill Rate: 0% â†’ >5%     (ä»»ä½•æˆäº¤éƒ½æ˜¯è¿›æ­¥)
è®¢å•è¦†ç›–: 7å±‚ â†’ 16å±‚    (å¢åŠ æˆäº¤æœºä¼š)
æŠ¥ä»·å»¶è¿Ÿ: 600ms â†’ 150ms (æå‡å“åº”é€Ÿåº¦)
```

### ä¸­æœŸç›®æ ‡ï¼ˆ72å°æ—¶æµ‹è¯•ï¼‰
```
Fill Rate: >20%         (æ¥è¿‘æ–‡æ¡£35%è¦æ±‚)
Pinningè§¦å‘: è‡³å°‘1æ¬¡    (éªŒè¯é£æ§æœºåˆ¶)
PNL: >0                (å¼€å§‹ç›ˆåˆ©)
```

### é•¿æœŸç›®æ ‡ï¼ˆç¬¦åˆæ–‡æ¡£ï¼‰
```
Fill Rate: >35%         (æ–‡æ¡£è¦æ±‚)
å¹´åŒ–æ”¶ç›Š: 100%+         (æ–‡æ¡£ç›®æ ‡)
Uptime: 99.9%          (ç”Ÿäº§çº§ç¨³å®šæ€§)
```

---

## âš ï¸ é£é™©è¯„ä¼°

### ä¿®å¤é£é™©

**é£é™©1: å¢åŠ å±‚æ•°å¯èƒ½å¯¼è‡´é£æ§è§¦å‘**
- å¯èƒ½æ€§: é«˜
- å½±å“: ä¸­ï¼ˆä¼šè§¦å‘æ‰¹é‡é£æ§è°ƒæ•´ï¼Œè¿™æ˜¯é¢„æœŸè¡Œä¸ºï¼‰
- ç¼“è§£: å·²æœ‰`adjustQuotesForRisk`è‡ªåŠ¨è°ƒæ•´

**é£é™©2: é™ä½offsetå¯èƒ½å¯¼è‡´Post-Onlyå¤±è´¥**
- å¯èƒ½æ€§: ä¸­
- å½±å“: ä¸­ï¼ˆè®¢å•è¢«æ‹’ç»ï¼Œä½†ä¸ä¼šäºæŸï¼‰
- ç¼“è§£: é€æ­¥è°ƒæ•´ï¼Œ0.0004 â†’ 0.0003 â†’ 0.0002

**é£é™©3: ç¼©çŸ­quote_intervalå¢åŠ CPUè´Ÿè½½**
- å¯èƒ½æ€§: ä½
- å½±å“: ä½ï¼ˆä»600â†’150msï¼Œè´Ÿè½½å¢åŠ 2.5å€ä½†ç»å¯¹å€¼ä»ä½ï¼‰
- ç¼“è§£: ç›‘æ§CPU/å†…å­˜æŒ‡æ ‡

---

## ğŸ¬ å»ºè®®è¡ŒåŠ¨è®¡åˆ’

### é˜¶æ®µ1: ç´§æ€¥ä¿®å¤ï¼ˆç«‹å³æ‰§è¡Œï¼‰

1. **ä¿®æ”¹é…ç½®æ–‡ä»¶**
   ```bash
   vim configs/phoenix_live.yaml
   # ä¿®æ”¹:
   # near_layers: 3 â†’ 8
   # far_layers: 4 â†’ 16
   # quote_interval_ms: 600 â†’ 150
   # near_layer_start_offset: 0.0004 â†’ 0.0003
   ```

2. **é‡å¯ç³»ç»Ÿ**
   ```bash
   ./scripts/stop_live.sh
   ./scripts/start_live.sh
   ```

3. **ç›‘æ§30åˆ†é’Ÿ**
   ```bash
   tail -f logs/phoenix_live.out | grep -E "(ä¸‹å•æˆåŠŸ|è®¢å•æˆäº¤|æ‰¹é‡é£æ§)"
   ```

### é˜¶æ®µ2: éªŒè¯ä¿®å¤ï¼ˆ30åˆ†é’Ÿåï¼‰

1. **æ£€æŸ¥æˆäº¤æƒ…å†µ**
   ```bash
   grep "è®¢å•æˆäº¤\|FILLED" logs/phoenix_live.out | wc -l
   ```

2. **æ£€æŸ¥é£æ§çŠ¶æ€**
   ```bash
   grep "æ‰¹é‡é£æ§\|è°ƒæ•´æŠ¥ä»·" logs/phoenix_live.out | tail -20
   ```

3. **è®¡ç®—Fill Rate**
   ```bash
   ä¸‹å•æ•°=$(grep "ä¸‹å•æˆåŠŸ" logs/phoenix_live.out | wc -l)
   æˆäº¤æ•°=$(grep "è®¢å•æˆäº¤" logs/phoenix_live.out | wc -l)
   echo "Fill Rate: $æˆäº¤æ•° / $ä¸‹å•æ•°"
   ```

### é˜¶æ®µ3: è¿­ä»£ä¼˜åŒ–ï¼ˆå¦‚ä»æ— æˆäº¤ï¼‰

1. **è¿›ä¸€æ­¥é™ä½offset**
   ```yaml
   near_layer_start_offset: 0.0002
   ```

2. **æˆ–å¢åŠ æ›´æ–°é¢‘ç‡**
   ```yaml
   quote_interval_ms: 100
   ```

3. **æˆ–æ‰‹åŠ¨éªŒè¯å¸‚åœºæ•°æ®**
   - ç™»å½•BinanceæŸ¥çœ‹ETHUSDCç›˜å£
   - å¯¹æ¯”ç³»ç»ŸæŒ‚å•ä»·æ ¼
   - ç¡®è®¤æ˜¯å¦ä»·æ ¼è¿½è¸ªå‡†ç¡®

---

## ğŸ“ æ€»ç»“

### æ ¸å¿ƒé—®é¢˜
**10å°æ—¶è¿è¡Œï¼ŒFill Rate = 0%ï¼Œä¸¥é‡è¿èƒŒæ–‡æ¡£>35%çš„è¦æ±‚ã€‚**

### æ ¹æœ¬åŸå› 
1. **æŠ¥ä»·å±‚æ•°ä¸è¶³**ï¼š7å±‚ vs æ–‡æ¡£24å±‚ï¼ˆ-70.8%ï¼‰
2. **æŠ¥ä»·æ›´æ–°æ…¢**ï¼š600ms vs æ–‡æ¡£<200msï¼ˆ+200%ï¼‰
3. **è®¢å•è¿½ä¸ä¸Šå¸‚åœº**ï¼šä»·æ ¼è·ç¦»è™½åˆç†ä½†æ›´æ–°ä¸åŠæ—¶

### ä¿®å¤æ ¸å¿ƒ
**æ¢å¤æ–‡æ¡£è§„å®šçš„8+16=24å±‚æŠ¥ä»· + é™ä½quote_intervalåˆ°150ms**

### é¢„æœŸæ”¹å–„
```
å½“å‰: Fill Rate 0%, æ— æ”¶ç›Š, é£æ§æœªéªŒè¯
ä¿®å¤å: Fill Rate >5-10% (24h), >20% (72h), å¼€å§‹äº§ç”Ÿæˆäº¤å’Œæ”¶ç›Š
```

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-11-30 10:40
**ç³»ç»ŸçŠ¶æ€**: è¿è¡Œä¸­ï¼ˆPID 937654ï¼‰
**æ•°æ®æ¥æº**: logs/phoenix_live.out (1866è¡Œï¼Œ23:31-10:35æ—¶æ®µ)

